suite: secret tests
templates:
  - secret.yaml
tests:
  - it: should create secret with default values
    set:
      secret.create: true
      secret.name: "otel-secret"
      tsuga.otlpEndpoint: "https://test-endpoint.com"
      tsuga.apiKey: "test-api-key"
    release:
      name: "test-release"
    asserts:
      - isKind:
          of: Secret
      - equal:
          path: metadata.name
          value: "otel-secret"
      - equal:
          path: stringData.TSUGA_OTLP_ENDPOINT
          value: "https://test-endpoint.com"
      - equal:
          path: stringData.TSUGA_API_KEY
          value: "test-api-key"
